{
    "swagger": "2.0",
    "info": {
        "title": "Devops API",
        "description": "Devops System APIs.",
        "version": "1.0.0",
        "contact": {
            "email": "liuchengming@laiye.com"
        }
    },
    "basePath": "/v1",
    "paths": {
        "/config/add": {
            "post": {
                "tags": [
                    "config"
                ],
                "description": "新建配置",
                "operationId": "ConfigController.新建配置",
                "parameters": [
                    {
                        "in": "formData",
                        "name": "config_git_id",
                        "description": "配置仓库ID",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "formData",
                        "name": "config_process_id",
                        "description": "配置进程ID",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "formData",
                        "name": "content",
                        "description": "配置json内容",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/json"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/models.Config"
                        }
                    },
                    "403": {
                        "description": "参数错误:缺失或格式错误"
                    }
                }
            }
        },
        "/configgit/add": {
            "post": {
                "tags": [
                    "configgit"
                ],
                "description": "新建配置仓库",
                "operationId": "ConfigGitController.新建配置仓库",
                "parameters": [
                    {
                        "in": "formData",
                        "name": "name",
                        "description": "配置仓库名称",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "formData",
                        "name": "service_module",
                        "description": "服务模块",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/models.ConfigGit"
                        }
                    },
                    "403": {
                        "description": "参数错误:缺失或格式错误"
                    }
                }
            }
        },
        "/configprocess/add": {
            "post": {
                "tags": [
                    "configprocess"
                ],
                "description": "新建配置进程",
                "operationId": "ConfigProcessController.新建配置进程",
                "parameters": [
                    {
                        "in": "formData",
                        "name": "name",
                        "description": "配置进程名称",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "formData",
                        "name": "config_git_id",
                        "description": "配置仓库ID",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/models.ConfigProcess"
                        }
                    },
                    "403": {
                        "description": "参数错误:缺失或格式错误"
                    }
                }
            }
        },
        "/depa/": {
            "get": {
                "tags": [
                    "depa"
                ],
                "description": "查询部门列表",
                "operationId": "DepartmentController.查询部门列表",
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/models.Department"
                        }
                    },
                    "500": {
                        "description": "查询错误"
                    }
                }
            }
        },
        "/depa/add": {
            "post": {
                "tags": [
                    "depa"
                ],
                "description": "新建部门",
                "operationId": "DepartmentController.新建部门",
                "parameters": [
                    {
                        "in": "formData",
                        "name": "name",
                        "description": "部门名称",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "formData",
                        "name": "desc",
                        "description": "部门描述",
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/models.Department"
                        }
                    },
                    "403": {
                        "description": "参数错误:缺失或格式错误"
                    }
                }
            }
        },
        "/depa/{id}": {
            "post": {
                "tags": [
                    "depa"
                ],
                "description": "修改部门",
                "operationId": "DepartmentController.修改部门",
                "parameters": [
                    {
                        "in": "formData",
                        "name": "id",
                        "description": "部门id",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "formData",
                        "name": "name",
                        "description": "部门名称",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "formData",
                        "name": "desc",
                        "description": "部门描述",
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/models.Department"
                        }
                    },
                    "500": {
                        "description": "参数错误:缺失或格式错误"
                    }
                }
            },
            "delete": {
                "tags": [
                    "depa"
                ],
                "description": "删除部门",
                "operationId": "DepartmentController.删除部门",
                "parameters": [
                    {
                        "in": "formData",
                        "name": "id",
                        "description": "部门id",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/models.Department"
                        }
                    },
                    "500": {
                        "description": "参数错误:缺失或格式错误"
                    }
                }
            }
        },
        "/user/auth": {
            "get": {
                "tags": [
                    "user"
                ],
                "description": "测试错误码",
                "operationId": "UserController.认证测试",
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/models.User"
                        }
                    },
                    "401": {
                        "description": "unauthorized"
                    }
                }
            }
        },
        "/user/login": {
            "post": {
                "tags": [
                    "user"
                ],
                "description": "账号登录",
                "operationId": "UserController.登录",
                "parameters": [
                    {
                        "in": "formData",
                        "name": "email",
                        "description": "邮箱",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "formData",
                        "name": "password",
                        "description": "密码",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/models.User"
                        }
                    },
                    "401": {
                        "description": "No Admin"
                    },
                    "404": {
                        "description": "no enough input"
                    }
                }
            }
        },
        "/user/reg": {
            "post": {
                "tags": [
                    "user"
                ],
                "description": "用户注册",
                "operationId": "UserController.注册新用户",
                "parameters": [
                    {
                        "in": "formData",
                        "name": "username",
                        "description": "用户名称",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "formData",
                        "name": "password",
                        "description": "密码",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "formData",
                        "name": "email",
                        "description": "邮箱",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "formData",
                        "name": "phone",
                        "description": "用户手机号",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/models.User"
                        }
                    },
                    "403": {
                        "description": "参数错误:缺失或格式错误"
                    }
                }
            }
        },
        "/user/upload_avatar": {
            "post": {
                "tags": [
                    "user"
                ],
                "description": "头像上传",
                "operationId": "UserController.头像上传",
                "parameters": [
                    {
                        "in": "query",
                        "name": "avatar",
                        "description": "获取图片二进制流出",
                        "type": "array",
                        "items": {
                            "type": "string",
                            "format": "byte"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                }
            }
        }
    },
    "definitions": {
        "\"\"": {
            "title": "\"\"",
            "type": "object"
        },
        "json": {
            "title": "json",
            "type": "object"
        },
        "models.Config": {
            "title": "Config",
            "type": "object",
            "properties": {
                "config_git_id": {
                    "$ref": "#/definitions/models.ConfigGit"
                },
                "config_process_id": {
                    "$ref": "#/definitions/models.ConfigProcess"
                },
                "content": {
                    "type": "string"
                },
                "create_time": {
                    "type": "string",
                    "format": "datetime"
                },
                "id": {
                    "type": "integer",
                    "format": "int64"
                },
                "update_time": {
                    "type": "string",
                    "format": "datetime"
                }
            }
        },
        "models.ConfigGit": {
            "title": "ConfigGit",
            "type": "object",
            "properties": {
                "Config": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.Config"
                    }
                },
                "ConfigProcess": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.ConfigProcess"
                    }
                },
                "create_time": {
                    "type": "string",
                    "format": "datetime"
                },
                "id": {
                    "type": "integer",
                    "format": "int64"
                },
                "name": {
                    "type": "string"
                },
                "service_module": {
                    "type": "string"
                },
                "update_time": {
                    "type": "string",
                    "format": "datetime"
                }
            }
        },
        "models.ConfigProcess": {
            "title": "ConfigProcess",
            "type": "object",
            "properties": {
                "Config": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.Config"
                    }
                },
                "config_git_id": {
                    "$ref": "#/definitions/models.ConfigGit"
                },
                "create_time": {
                    "type": "string",
                    "format": "datetime"
                },
                "id": {
                    "type": "integer",
                    "format": "int64"
                },
                "name": {
                    "type": "string"
                },
                "update_time": {
                    "type": "string",
                    "format": "datetime"
                }
            }
        },
        "models.Department": {
            "title": "Department",
            "type": "object",
            "properties": {
                "User": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.User"
                    }
                },
                "create_time": {
                    "type": "string",
                    "format": "datetime"
                },
                "desc": {
                    "type": "string"
                },
                "id": {
                    "type": "integer",
                    "format": "int64"
                },
                "name": {
                    "type": "string"
                },
                "parent_id": {
                    "$ref": "#/definitions/models.Department"
                },
                "update_time": {
                    "type": "string",
                    "format": "datetime"
                }
            }
        },
        "models.User": {
            "title": "User",
            "type": "object",
            "properties": {
                "avatar": {
                    "type": "string"
                },
                "create_time": {
                    "type": "string",
                    "format": "datetime"
                },
                "department": {
                    "$ref": "#/definitions/models.Department"
                },
                "email": {
                    "type": "string"
                },
                "id": {
                    "type": "integer",
                    "format": "int64"
                },
                "is_active": {
                    "type": "string"
                },
                "phone": {
                    "type": "string"
                },
                "update_time": {
                    "type": "string",
                    "format": "datetime"
                },
                "username": {
                    "type": "string"
                }
            }
        }
    }
}